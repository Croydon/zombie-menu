// File distributed as part of "zombie-menu" under the GPL v2 license, available at:
// 	http://www.gnu.org/licenses/gpl-2.0.html
// Copyright (C) 2012 - 2013  meow of zombie-crew 
// Copyright (C) 2012 - 2013  cm|ac
// Copyright (C) 2012 - 2013  Mephisto|BD|
// Copyright (C) 2012 - 2013  Bucco
// Copyright (C) 2013  Imperator Chairman Miau
// Copyright (C) 2013  Kroltan
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License
// as published by the Free Software Foundation; either version 2
// of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.

//Part of the refactored version of Zombie Menu, not compatible and useless with main version

z.echo = [ // Argument 1 = where to echo (0 = echo, 1 = global, 2 = team), Argument 2 = message to say
	case $arg1 0 [
		echo ^s $zWL ^r^s $arg2 ^r $zWR
	] 1 [
		say ^s $zWL ^r^s $arg2 ^r $zWR
	] 2 [
		sayteam ^s $zWL ^r^s $arg2 ^r $zWR
	] () [
		echo ^s $zWL ^r^s $arg2 ^r $zWR
	]
]
z.showservers = [
	showgui servers
	z.echo 0 "Showing online servers!"
]
z.savemap = [
	z.echo 0 (concatword "Saving map ^"" (mapname) "^" to disk")
	savemap
	z.echo 0 (concatword "Map ^"" (mapname) "^" saved, " $zFM "!")
]
z.getmap = [
	z.echo 1 (concatword "Getting map ^"" (mapname) "^" from server.")
	getmap
	sleep 1000 [
		z.echo 0 (concatword "downloaded ^f1" (mapname) "'s ^f0last sent map, " $zFM "! (^f5/getmap^f0)")
	]
]
z.edit.selentinsel = [
	if ($editing) [
		entselect insel
		z.echo 0 "All entities in selection selected! (^f5NUMLOCK-ENTER^f0)"
	]
]
z.admin.pandalism = [ //Argument 1 = if true, say. if false, echo.
	local botcount
	botdelcount = 0
	looplist i (listclients) [ if (isai $i) [ delbot; botcount = (+ $botdelcount 1) ] ]
	z.echo 0 (concat "^f3PANDALISM: ^f2Removed" $botdelcount "bots!")
	local changeambience
	changeambience = 0
	if (!= $ambient 0x191919) [ ambient 25 25 25; changeambience = 1 ]
	if (!= $cloudcolour 0xFFFFFF) [ cloudcolour 255 255 255; changeambience = 1 ]
	if (!= $cloudlayer "") [ cloudlayer ""; changeambience = 1 ]
	if (!= $cloudscrollx 0) [ cloudscrollx 0; changeambience = 1 ]
	if (!= $cloudscrolly 0) [ cloudscrolly 0; changeambience = 1 ]
	if (!= $fog 4000) [ fog 4000; changeambience = 1 ]
	if (!= $fogcolour 0x8099B3) [ fogcolour 128 153 179; changeambience = 1 ]
	if (!= $glasscolour 0x2080C0) [ glasscolour 32 128 192; changeambience = 1 ]
	if (!= $skyboxcolour 0xFFFFFF) [ skyboxcolour 255 255 255; changeambience = 1 ]
	if (!= $skylight 0x000000) [ skylight 0 0 0; changeambience = 1 ]
	if (!= $spincloudlayer 0) [ spincloudlayer 0; changeambience = 1 ]
	if (!= $spinsky 0) [ spinsky 0; changeambience = 1 ]
	if (!= $sunlight 0x000000) [ sunlight 0 0 0; changeambience = 1 ]
	if (!= $watercolour 0x144650) [ watercolour 20 70 80; changeambience = 1 ]
	if (!= $waterfog 150) [ waterfog 150; changeambience = 1 ]
	if (!= $waterspec 150) [ waterspec 150; changeambience = 1 ]
	if ($changeambience) [ z.echo 0 "^f3PANDALISM: ^f2Fixed map ambience!" ]
	entfind healthboost; delent; 
	entfind quaddamage; delent; 
	entfind respawnpoint; delent; 
	entfind mapmodel * 132; delent; 
	entfind mapmodel * 178; delent; 
	entfind particles 0 -12352; delent; 
	entfind particles 7 1415; delent; 
	entfind particles 0 -31072; delent; 
	entfind particles 11 1415; delent; 
	entfind particles 11 19072; delent; 
	entfind particles 11 21568; delent; 
	entfind particles 12 4608; delent; 
	entfind particles 12 21568; delent;
	z.echo 0 "^f3PANDALISM: ^f2Wiped entities!";
	loop i 200 [
		local x
		x = (+ $i 1900)
		entfind teleport $x; delent;
		entfind teledest * $x; delent;
		entfind teleport $x; delent;
		entfind teledest * $x; delent;
		x = (+ $i 400)
		entfind particles 9 284 0 0x7D10 $x; delent;
		entfind particles 9 284 0 0x00F $x; delent;
	]
	z.echo 0 "^f3PANDALISM: ^f2Wiped all portals!";
	z.echo 1 "^f3PANDALISM Finished!";
]
z.admin.claim = [
	spectator 0
	setmaster 1
	sleep 500 [
		if (ismaster (getclientnum)) [
			z.echo 0 (concatword "The MASTERsword is our, commander " (getname) ", " $zFM "! Now preparing server!")
			z.echo 1 "Claiming mastersword and locking server!"
			mastermode 2
			clearbans
		] [
			z.echo 0 (concatword "You can not just toggle other's things, " $zFM "! o.O")
		]
	]
]

